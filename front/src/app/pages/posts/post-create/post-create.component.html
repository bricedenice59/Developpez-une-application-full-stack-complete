<div class="container">
  <h2>Create a new post</h2>
  <form [formGroup]="form" (ngSubmit)="submit()">
    <div class="form-class">
      <div class="form-group">
        <select formControlName="topicId">
          <option value="" disabled selected>Select a topic</option>
          <option *ngFor="let topic of topicsArray" [value]="topic.id">{{topic.title}}</option>
        </select>
      </div>
      <div class="form-group">
        <input matInput formControlName="title" placeholder="Post title">
        <p *ngIf="form.get('title')?.hasError('maxlength') && form.get('title')?.touched" class="error">
          Title cannot be more than 255 characters.
        </p>
      </div>
      <div class="form-group">
        <textarea formControlName="content" placeholder="Content..." rows="4"></textarea>
        <p *ngIf="form.get('content')?.hasError('maxlength') && form.get('content')?.touched" class="error">
          Content cannot be more than 2000 characters.
        </p>
      </div>
      <div class="submit-button">
        <p *ngIf="onError" class="error">An error occurred</p>
        <button mat-flat-button color="primary" type="submit" [disabled]="form.invalid">Create post</button>
      </div>
    </div>
  </form>
</div>
